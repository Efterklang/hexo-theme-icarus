$column-gap ?= 0.75rem

.column
  display block
  flex-basis 0
  flex-grow 1
  flex-shrink 1
  padding $column-gap
  .columns.is-mobile > &.is-narrow
    flex none
  .columns.is-mobile > &.is-full
    flex none
    width 100%
  .columns.is-mobile > &.is-three-quarters
    flex none
    width 75%
  .columns.is-mobile > &.is-two-thirds
    flex none
    width 66.6666%
  .columns.is-mobile > &.is-half
    flex none
    width 50%
  .columns.is-mobile > &.is-one-third
    flex none
    width 33.3333%
  .columns.is-mobile > &.is-one-quarter
    flex none
    width 25%
  .columns.is-mobile > &.is-one-fifth
    flex none
    width 20%
  .columns.is-mobile > &.is-two-fifths
    flex none
    width 40%
  .columns.is-mobile > &.is-three-fifths
    flex none
    width 60%
  .columns.is-mobile > &.is-four-fifths
    flex none
    width 80%
  for $i in 0..12
    .columns.is-mobile > &.is-{$i}
      flex none
      width percentage($i / 12)
  +mobile()
    &.is-narrow-mobile
      flex none
    &.is-full-mobile
      flex none
      width 100%
    &.is-three-quarters-mobile
      flex none
      width 75%
    &.is-two-thirds-mobile
      flex none
      width 66.6666%
    &.is-half-mobile
      flex none
      width 50%
    &.is-one-third-mobile
      flex none
      width 33.3333%
    &.is-one-quarter-mobile
      flex none
      width 25%
    &.is-one-fifth-mobile
      flex none
      width 20%
    &.is-two-fifths-mobile
      flex none
      width 40%
    &.is-three-fifths-mobile
      flex none
      width 60%
    &.is-four-fifths-mobile
      flex none
      width 80%
    for $i in 0..12
      &.is-{$i}-mobile
        flex none
        width percentage($i / 12)
  +tablet()
    &.is-narrow,
    &.is-narrow-tablet
      flex none
    &.is-full,
    &.is-full-tablet
      flex none
      width 100%
    &.is-three-quarters,
    &.is-three-quarters-tablet
      flex none
      width 75%
    &.is-two-thirds,
    &.is-two-thirds-tablet
      flex none
      width 66.6666%
    &.is-half,
    &.is-half-tablet
      flex none
      width 50%
    &.is-one-third,
    &.is-one-third-tablet
      flex none
      width 33.3333%
    &.is-one-quarter,
    &.is-one-quarter-tablet
      flex none
      width 25%
    &.is-one-fifth,
    &.is-one-fifth-tablet
      flex none
      width 20%
    &.is-two-fifths,
    &.is-two-fifths-tablet
      flex none
      width 40%
    &.is-three-fifths,
    &.is-three-fifths-tablet
      flex none
      width 60%
    &.is-four-fifths,
    &.is-four-fifths-tablet
      flex none
      width 80%
    for $i in 0..12
      &.is-{$i},
      &.is-{$i}-tablet
        flex none
        width percentage($i / 12)
  +touch()
    &.is-narrow-touch
      flex none
    &.is-full-touch
      flex none
      width 100%
    &.is-three-quarters-touch
      flex none
      width 75%
    &.is-two-thirds-touch
      flex none
      width 66.6666%
    &.is-half-touch
      flex none
      width 50%
    &.is-one-third-touch
      flex none
      width 33.3333%
    &.is-one-quarter-touch
      flex none
      width 25%
    &.is-one-fifth-touch
      flex none
      width 20%
    &.is-two-fifths-touch
      flex none
      width 40%
    &.is-three-fifths-touch
      flex none
      width 60%
    &.is-four-fifths-touch
      flex none
      width 80%
    for $i in 0..12
      &.is-{$i}-touch
        flex none
        width percentage($i / 12)
  +desktop()
    &.is-narrow-desktop
      flex none
    &.is-full-desktop
      flex none
      width 100%
    &.is-three-quarters-desktop
      flex none
      width 75%
    &.is-two-thirds-desktop
      flex none
      width 66.6666%
    &.is-half-desktop
      flex none
      width 50%
    &.is-one-third-desktop
      flex none
      width 33.3333%
    &.is-one-quarter-desktop
      flex none
      width 25%
    &.is-one-fifth-desktop
      flex none
      width 20%
    &.is-two-fifths-desktop
      flex none
      width 40%
    &.is-three-fifths-desktop
      flex none
      width 60%
    &.is-four-fifths-desktop
      flex none
      width 80%
    for $i in 0..12
      &.is-{$i}-desktop
        flex none
        width percentage($i / 12)
  +widescreen()
    &.is-narrow-widescreen
      flex none
    &.is-full-widescreen
      flex none
      width 100%
    &.is-three-quarters-widescreen
      flex none
      width 75%
    &.is-two-thirds-widescreen
      flex none
      width 66.6666%
    &.is-half-widescreen
      flex none
      width 50%
    &.is-one-third-widescreen
      flex none
      width 33.3333%
    &.is-one-quarter-widescreen
      flex none
      width 25%
    &.is-one-fifth-widescreen
      flex none
      width 20%
    &.is-two-fifths-widescreen
      flex none
      width 40%
    &.is-three-fifths-widescreen
      flex none
      width 60%
    &.is-four-fifths-widescreen
      flex none
      width 80%
    for $i in 0..12
      &.is-{$i}-widescreen
        flex none
        width percentage($i / 12)
  +fullhd()
    &.is-narrow-fullhd
      flex none
    &.is-full-fullhd
      flex none
      width 100%
    &.is-three-quarters-fullhd
      flex none
      width 75%
    &.is-two-thirds-fullhd
      flex none
      width 66.6666%
    &.is-half-fullhd
      flex none
      width 50%
    &.is-one-third-fullhd
      flex none
      width 33.3333%
    &.is-one-quarter-fullhd
      flex none
      width 25%
    &.is-one-fifth-fullhd
      flex none
      width 20%
    &.is-two-fifths-fullhd
      flex none
      width 40%
    &.is-three-fifths-fullhd
      flex none
      width 60%
    &.is-four-fifths-fullhd
      flex none
      width 80%
    for $i in 0..12
      &.is-{$i}-fullhd
        flex none
        width percentage($i / 12)

.columns
  margin-left ($column-gap * -1)
  margin-right ($column-gap * -1)
  margin-top ($column-gap * -1)
  &:last-child
    margin-bottom ($column-gap * -1)
  &:not(:last-child)
    margin-bottom "calc(1.5rem - %s)" % $column-gap
  // Modifiers
  &.is-centered
    justify-content center
  &.is-mobile
    display flex
  &.is-multiline
    flex-wrap wrap
  &.is-vcentered
    align-items center
  // Responsiveness
  +tablet()
    &:not(.is-desktop)
      display flex
  +desktop()
    // Modifiers
    &.is-desktop
      display flex

if $variable-columns
  .columns.is-variable
    --columnGap 0.75rem
    margin-left calc(-1 * var(--columnGap))
    margin-right calc(-1 * var(--columnGap))
    .column
      padding-left var(--columnGap)
      padding-right var(--columnGap)
    for $i in 0..8
      &.is-{$i}
        --columnGap ($i * 0.25rem)
      +mobile()
        &.is-{$i}-mobile
          --columnGap ($i * 0.25rem)
      +tablet()
        &.is-{$i}-tablet
          --columnGap ($i * 0.25rem)
      +tablet-only()
        &.is-{$i}-tablet-only
          --columnGap ($i * 0.25rem)
      +touch()
        &.is-{$i}-touch
          --columnGap ($i * 0.25rem)
      +desktop()
        &.is-{$i}-desktop
          --columnGap ($i * 0.25rem)
      +desktop-only()
        &.is-{$i}-desktop-only
          --columnGap ($i * 0.25rem)
      +widescreen()
        &.is-{$i}-widescreen
          --columnGap ($i * 0.25rem)
      +widescreen-only()
        &.is-{$i}-widescreen-only
          --columnGap ($i * 0.25rem)
      +fullhd()
        &.is-{$i}-fullhd
          --columnGap ($i * 0.25rem)
