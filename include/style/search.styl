/* ---------------------------------
 *           Search Box
 * --------------------------------- */
// container sizes
$searchbox-container-width ?= 640px
$searchbox-container-margin ?= 100px
$searchbox-breakpoint-width ?= 559px
$searchbox-breakpoint-height ?= 479px
// overlay and container styles
$searchbox-box-shadow ?= $card-shadow

.searchbox
    position: fixed
    top: 0
    left: 0
    width: 100%
    height: 100%
    z-index: 100
    font-size: 1rem
    font-family: $family-sans-serif
    line-height: 0
    opacity: 0
    visibility: hidden
    display: flex
    transition: opacity 0.2s ease-in-out, visibility 0.2s ease-in-out

    &.show
        opacity: 1
        visibility: visible

    a, a:hover
        text-decoration: none

    input
        font-family: $code-font
        font-size: 1rem
        border: none
        outline: none
        box-shadow: none
        border-radius: 0

    &, .searchbox-container
        position: fixed
        align-items: center
        flex-direction: column
        line-height: 1.25em

    .searchbox-container
        z-index: 101
        display: flex
        overflow: hidden
        box-shadow: $searchbox-box-shadow
        border-radius: $card-radius
        width: $searchbox-container-width
        top: $searchbox-container-margin
        bottom: $searchbox-container-margin
        backdrop-filter: blur(10px)
        -webkit-backdrop-filter: blur(10px)
        transform: scale(0.95)
        transition: transform 0.3s ease-in-out, opacity 0.3s ease-in-out

    &.show .searchbox-container
        transform: scale(1)

    .searchbox-header, .searchbox-body, .searchbox-footer
        width: 100%

    .searchbox-header
        display: flex
        flex-direction: row
        line-height: 1.5em
        font-weight: normal
        min-height: 3rem

    .searchbox-input-container
        display: flex
        flex-grow: 1

    .searchbox-input
        flex-grow: 1
        box-sizing: border-box
        padding: .75em 0 .75em 1.25em

    .searchbox-close
        display: inline-block
        font-size: 1.5em
        padding: .5em .75em
        cursor: pointer

    .searchbox-body
        flex-grow: 1
        overflow-y: auto
        border-top: 1px solid var(--ctp-surface0)

    .searchbox-result-section header, .searchbox-result-item
        padding: .75em 1em

    .searchbox-result-section
        border-bottom: 1px solid var(--ctp-surface0)

    .searchbox-result-item
        display: flex
        flex-direction: row

    .searchbox-result-icon
        margin-right: 1em

    .searchbox-result-content
        overflow: hidden

    .searchbox-result-title, .searchbox-result-preview
        display: block
        overflow: hidden
        white-space: nowrap
        text-overflow: ellipsis

    .searchbox-result-preview
        margin-top: .25em

    .searchbox-footer
        padding: .5em 1em

    .searchbox-pagination
        margin: 0
        padding: 0
        list-style: none
        text-align: center

        .searchbox-pagination-item
            margin: 0 .25rem

        .searchbox-pagination-item, .searchbox-pagination-link
            display: inline-block

        .searchbox-pagination-link
            overflow: hidden
            padding: .5em .8em
            box-shadow: $searchbox-box-shadow
            border-radius: $card-radius

        .searchbox-pagination-item.disabled
            .searchbox-pagination-link
                cursor: not-allowed

@media screen and (max-width: $searchbox-breakpoint-width), screen and (max-height: $searchbox-breakpoint-height)
    .searchbox .searchbox-container
        top: 0
        left: 0
        width: 100%
        height: 100%
        border-radius: 0
